<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mulah Assessment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>

<body class="bg-light">

    <div class="container my-5">
        <div id="table1-container" class="card mb-5 shadow" style="display: none;">
            <div class="card-header text-center bg-info text-white fw-bold">
                Table 1
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="table1" class="table table-bordered table-striped table-hover align-middle mb-0">
                        <thead class="table-info">
                            <tr>
                                <th scope="col">Index</th>
                                <th scope="col">Value</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="table2-container" class="card shadow" style="display: none;">
            <div class="card-header text-center bg-success text-white fw-bold">
                Table 2
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="table2" class="table table-bordered table-striped table-hover align-middle mb-0">
                        <thead class="table-success">
                            <tr>
                                <th>Category</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Alpha</td>
                                <td id="alpha"></td>
                            </tr>
                            <tr>
                                <td>Beta</td>
                                <td id="beta"></td>
                            </tr>
                            <tr>
                                <td>Charlie</td>
                                <td id="charlie"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <script>
        const table1 = document.getElementById('table1-container');
        const table2 = document.getElementById('table2-container');
        table1.style.display = 'none';
        table2.style.display = 'none';

        window.onload = () => {
            fetch('Table_Input.csv')
                .then(response => {
                    if (!response.ok) throw new Error('Failed to load CSV file.');
                    return response.text();
                })
                .then(csvText => {
                    const lines = csvText.trim().split('\n');
                    const dataMap = {};

                    const tbody1 = document.querySelector('#table1 tbody');
                    tbody1.innerHTML = '';

                    for (let i = 1; i < lines.length; i++) {
                        const [index, value] = lines[i].split(',');
                        dataMap[index] = parseInt(value.trim());

                        const row = document.createElement('tr');
                        row.innerHTML = `<td>${index}</td><td>${value}</td>`;
                        tbody1.appendChild(row);
                    }

                    const alpha = dataMap["A5"] + dataMap["A20"];
                    const beta = dataMap["A7"] !== 0 ? (dataMap["A15"] / dataMap["A7"]) : "Error (Divide by 0)";
                    const charlie = dataMap["A13"] * dataMap["A12"];

                    document.getElementById("alpha").textContent = alpha;
                    document.getElementById("beta").textContent = beta;
                    document.getElementById("charlie").textContent = charlie;

                    table1.style.display = 'block';
                    table2.style.display = 'block';
                })
                .catch(error => {
                    console.error('Error loading CSV:', error);
                    alert('Failed to load Table_Input.csv');
                });
        };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>

</body>

</html>