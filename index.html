<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table Output</title>
    <style>
        table {
            border-collapse: collapse;
            margin: 20px auto;
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }

        body {
            font-family: Arial, sans-serif;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>

<body>

    <div id="table1-container">
        <h2 class="text-center">Table 1: Original Data</h2>
        <table id="table1" class="table table-info table-bordered table-striped-columns w-50">
            <thead>
                <tr>
                    <th>Index</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div id="table2-container">
        <h2 class="text-center">Table 2: Processed Values</h2>
        <table id="table2" class="table table-success table-bordered table-striped-columns w-50">
            <thead>
                <tr>
                    <th>Category</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Alpha</td>
                    <td id="alpha"></td>
                </tr>
                <tr>
                    <td>Beta</td>
                    <td id="beta"></td>
                </tr>
                <tr>
                    <td>Charlie</td>
                    <td id="charlie"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        const table1 = document.getElementById('table1-container');
        const table2 = document.getElementById('table2-container');
        table1.style.display = 'none';
        table2.style.display = 'none';

        window.onload = () => {
            fetch('Table_Input.csv')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to load CSV file.');
                    }
                    return response.text();
                })
                .then(csvText => {
                    const lines = csvText.trim().split('\n');
                    const dataMap = {};

                    const tbody1 = document.querySelector('#table1 tbody');
                    tbody1.innerHTML = '';

                    for (let i = 1; i < lines.length; i++) {
                        const [index, value] = lines[i].split(',');

                        dataMap[index] = parseInt(value.trim());

                        const row = document.createElement('tr');
                        row.innerHTML = `<td>${index}</td><td>${value}</td>`;
                        tbody1.appendChild(row);
                    }

                    // Calculate processed values
                    const alpha = dataMap["A5"] + dataMap["A20"];
                    const beta = dataMap["A7"] !== 0 ? (dataMap["A15"] / dataMap["A7"]) : "Error (Divide by 0)";
                    const charlie = dataMap["A13"] * dataMap["A12"];

                    document.getElementById("alpha").textContent = alpha;
                    document.getElementById("beta").textContent = beta;
                    document.getElementById("charlie").textContent = charlie;

                    table1.style.display = 'block';
                    table2.style.display = 'block';
                })
                .catch(error => {
                    console.error('Error loading CSV:', error);
                    alert('Failed to load Table_input.csv');
                });
        };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
</body>

</html>
